<!DOCTYPE html>
<html >
<head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<title>search Engine</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  
<style>

input.SearchBox {
    margin-top: 10%;
    margin-left: 2%;
    margin-bottom: 2%;
    width: 52%;
    height: 37px;
}
</style>
  </head>

<body>
<!-- <div>
		<img src="img/header.png" style="width: 100%;" height="10%"></img>
</div>
<div class="container-fuild">
	<div class="row">
		<div class="col-md-2" >
			<img src="img/LeftPanel.png" id="leftPanel"></img>
		</div>
		<div class="col-md-10">
			
			<div class="row">
				<div class="col-md-10" >
					<input type="text" name="search" placeholder="Enter the Text to search" class="SearchBox" id="searchElement" onkeypress="handle(event);">
<label style="color:#4C4646;">Erweitert Anleitung Zur Suche</label>

					
					<div id="dialog-confirm"> </div> 
					
				</div>
				<div class="col-md-2">
					<img src="img/logo.png" class="logo" ></img>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<img src="img/MainPanel.png" class="MainPanel"></img>
				</div>
			</div>
		
		</div>
	</div>
</div> 




<script>

var optionalKeyWords= ["Kantine","Speiseplan","and","or"];
var mandatoryKeyWords=["Billerstedt"];
//var megedArray= optionalKeyWords.concat(mandatoryKeyWords);

//var totalKeyLength= optionalKeyWords.length + mandatoryKeyWords.length;
var mandatFlag=0;
var optionalFlag = 0;

var aux=60;

var handle =  function(e){
    if(e.keyCode === 13){
        e.preventDefault(); 

        searchVal = document.getElementById("searchElement").value; 
       
        
        var searchaElements= searchVal.split(" ");
        
        for (i=0; i<searchaElements.length; i++){
        	for(j=0; j< mandatoryKeyWords.length; j++){
        		if(searchaElements[i]==mandatoryKeyWords[j])
        			mandatFlag++;
        		break;
        	}
        	
        	for(j=0; j<optionalKeyWords.length; j++) {
        		if(searchaElements[i]==optionalKeyWords[j])
        			optionalFlag++;
        	}
        }
       //alert("mandatFlag : " + mandatFlag + "optionalFlag : " + optionalFlag );
        
        if((mandatFlag < 1) || (optionalFlag<1)){
        	
        	//alert("Leider haben Sie nicht den richtigen Suchbegriff eingegeben");
        	$("#dialog-confirm").html('');
        	$("#dialog-confirm").append("Leider haben Sie nicht den richtigen Suchbegriff eingegeben" );
        	 $("#dialog-confirm").dialog('open');
        	
        	
        	
        }else{
        	

       	aux+=50;
        var html = "<html><head></head><body><div id='msg'>";
		html += "<h2 style='text-align:center;'> Sie haben die Aufgabe erfolgreich </h2>";
		html += "<h2 style='text-align:center;'>gel√∂st!</h2>";
		html += "<h2 id='punkte1' style='text-align:center;'>Punkte: " + aux + "</h2>";
		//html += " " + aux + "!";
		// alert('aux : ' + aux);
		
		 
		
		  popUp(html);
		  
		//  $("#punkte1").append(" " +   aux + "!" );
		
		  
		 
        //	window.open('result.html','_parent');/* <a href="#"location.href='result.html'/> */
        }
        
        mandatFlag =0;
  		optionalFlag=0;
    }
}

$( function() {
    $( "#dialog-confirm" ).dialog({
      resizable: false,
      height: "auto",
      autoOpen: false,
      width: 400,
      modal: true,
      buttons: {
        "OK": function() {
          $( this ).dialog( "close" );
        },
       /*  Cancel: function() {
          $( this ).dialog( "close" );
        } */
      }
    });
  } );	




function popUp(html){

var frog = window.open("result.html","_parent")
frog.document.open()
frog.document.write(html)
frog.document.close()

}

</script>-->
</body>
</html>